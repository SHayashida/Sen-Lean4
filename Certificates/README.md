# SAT/LRAT Certificate Verification

This directory is reserved for SAT/LRAT proof certificates used to verify finite
impossibility instances in Lean.

## CNF + LRAT workflow (recommended)

This repo supports checking UNSAT certificates directly from DIMACS CNF + LRAT
using `Mathlib.Tactic.Sat.FromLRAT` (Lean kernel checked).

Build just the SAT module with:
- `lake build SocialChoiceAtlas.Sen.BaseCase24.SATSenCNF`
  (or `lake build SocialChoiceAtlas.Sen.BaseCase24.SATSen`)

Files:
- `Certificates/sen24.cnf` (DIMACS)
- `Certificates/sen24.lrat` (LRAT)

Regenerate CNF:
- `python3 scripts/gen_sen24_dimacs.py`

Generate LRAT (example using CaDiCaL):
- `cadical --lrat --no-binary Certificates/sen24.cnf Certificates/sen24.lrat`

Then `SATSenCNF.lean` checks the LRAT certificate with:
- `lrat_proof ... (include_str "../../../Certificates/sen24.cnf") (include_str "../../../Certificates/sen24.lrat")`

## BVDecide / LRAT workflow (experimental)

The module `SocialChoiceAtlas/Sen/BaseCase24/SATSenGenerated.lean` contains a
SAT encoding of the Sen (n=2, m=4) base case as a quantifier-free Bool/BitVec
formula intended for `Std.Tactic.BVDecide`. This is kept for experimentation
but is typically much heavier than CNF+LRAT.

The Lean encoding is generated by:

- `scripts/gen_sen24_sat.py` â†’ `SocialChoiceAtlas/Sen/BaseCase24/SATSenGenerated.lean`

Re-run the generator whenever the encoding changes.
